{
    "collab_server" : "",
    "contents" : "source (\"estimates.r\")\n\nagsrs <- read.csv(\"data/agsrs.csv\", as.is = T)\n\n################# poststratification estimation #########################\nyh <- tapply (agsrs$acres92, INDEX = agsrs$region, FUN = mean)\nsh <- tapply (agsrs$acres92, INDEX = agsrs$region, FUN = sd)\nagpop <- read.csv (\"data/agpop.csv\", as.is=T)\nNh <- table (agpop$region)  \n\n## for poststratification, we use nh proportional to Nh, NOT the actual nh\nn <- nrow (agsrs)\nnh <- Nh/sum (Nh) * n\n\n## post-stratification estimation of mean\nstrata_mean_estimate (yh, sh, nh, Nh)\n\n## without postratification\nsrs_mean_est (agsrs$acres92, N=sum(Nh))\n\n## true mean \nmean (agpop$acres92)\n\n## comparison result: for this data set, we've found that poststratification\n## provides a closer answer to the true value although it is not much because there is not a serious selection bias in the SRS data\n\n## look at \"post-strata-agpop.R\" in rdemo/ for a comparison with a biased dataset\n\n",
    "created" : 1489608319238.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "416007166",
    "id" : "86D654ED",
    "lastKnownWriteTime" : 1489682697,
    "last_content_update" : 1489682697332,
    "path" : "~/ownCloud/teaching/stat348_1701/rdemo/solutions/poststrat_Q4.16.R",
    "project_path" : "solutions/poststrat_Q4.16.R",
    "properties" : {
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}